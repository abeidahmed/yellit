<%= render Containers::SettingComponent.new(project: @project) do |component| %>
  <% component.with(:body) do %>
    <div data-controller="toggle" data-toggle-attribute-value="hidden" class="mb-3">
      <%= render "member_filter" %>
      <%= render "invite_form", project: @project %>
    </div>
    <div class="Box">
      <div class="Box-header d-flex flex-justify-between flex-items-center">
        <h3 class="Box-title">
          People
        </h3>
        <div class="d-flex flex-justify-end position-relative">
          <%= render Dropdowns::DetailsComponent.new(button_title: "Filter", title: "Filter people") do |component| %>
            <% component.with(:body) do %>
              <button class="SelectMenu-item" role="menuitemcheckbox" aria-checked="true">
                <%= octicon "check", class: "SelectMenu-icon SelectMenu-icon--check" %>
                All
              </button>
              <button class="SelectMenu-item" role="menuitemcheckbox">
                <%= octicon "check", class: "SelectMenu-icon SelectMenu-icon--check" %>
                Owners
              </button>
              <button class="SelectMenu-item" role="menuitemcheckbox">
                <%= octicon "check", class: "SelectMenu-icon SelectMenu-icon--check" %>
                Members
              </button>
              <button class="SelectMenu-item" role="menuitemcheckbox">
                <%= octicon "check", class: "SelectMenu-icon SelectMenu-icon--check" %>
                Invitation pending
              </button>
            <% end %>
          <% end %>
        </div>
      </div>
      <div id="project-member-list">
        <% @memberships.each do |member| %>
          <div class="Box-row d-flex flex-items-center">
            <div class="d-flex flex-items-center col-9 col-md-4 pr-3">
              <%= render Members::InfoComponent.new(member: member) %>
            </div>
            <div class="text-gray-light d-none d-md-flex flex-items-center col-md-5 pr-3">
              <%= octicon "mail" %>
              <%= link_to member.email_address, "mailto:#{member.email_address}", class: "f5 ml-2 css-truncate css-truncate-overflow" %>
            </div>
            <div class="col-3 d-flex flex-justify-end">
              <%= render Members::ActionComponent.new(current_user: current_user, member: member) %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
<% end %>
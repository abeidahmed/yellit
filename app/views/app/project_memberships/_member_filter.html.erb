<%= render Dropdowns::DetailsComponent.new(title: "Filter people") do |component| %>
  <%= component.with(:trigger) do %>
    <summary class="btn-link text-gray" aria-haspopup="true">
      Filter <span class="dropdown-caret"></span>
    </summary>
  <% end %>
  <% component.with(:body) do %>
    <div data-controller="active-param" data-active-param-key-value="role" class="SelectMenu-list">
      <button
        class="SelectMenu-item"
        data-controller="search"
        data-search-url-value="<%= app_project_filter_memberships_path(@project) %>"
        data-search-key-value="role"
        data-action="click->search#filter click->active-param#setActive"
        data-search-target-value="project-member-list"
        data-active-param-target="list"
        value=""
      >
        <%= octicon "check", class: "SelectMenu-icon SelectMenu-icon--check" %>
        All
      </button>
      <button
        class="SelectMenu-item"
        data-controller="search"
        data-search-url-value="<%= app_project_filter_memberships_path(@project) %>"
        data-search-key-value="role"
        data-action="click->search#filter click->active-param#setActive"
        data-search-target-value="project-member-list"
        data-active-param-target="list"
        value="owner"
      >
        <%= octicon "check", class: "SelectMenu-icon SelectMenu-icon--check" %>
        Owners
      <button
        class="SelectMenu-item"
        data-controller="search"
        data-search-url-value="<%= app_project_filter_memberships_path(@project) %>"
        data-search-key-value="role"
        data-action="click->search#filter click->active-param#setActive"
        data-search-target-value="project-member-list"
        data-active-param-target="list"
        value="member"
      >
        <%= octicon "check", class: "SelectMenu-icon SelectMenu-icon--check" %>
        Members
      </button>
      <button
        class="SelectMenu-item"
        data-controller="search"
        data-search-url-value="<%= app_project_filter_memberships_path(@project) %>"
        data-search-key-value="role"
        data-action="click->search#filter click->active-param#setActive"
        data-search-target-value="project-member-list"
        data-active-param-target="list"
        value="pending"
      >
        <%= octicon "check", class: "SelectMenu-icon SelectMenu-icon--check" %>
        Invitation pending
      </button>
    </div>
  <% end %>
<% end %>